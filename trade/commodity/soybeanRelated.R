x=c(100,98,95,96,93,95,94,98,102,106,110,107,105,107,111,115,113,114,115,118,115,117,
  120,117,116,110,112,108,105,100)
plot(x)

#寻找两个波谷之间的波峰，首先判断是否满足增长率的要求
#1.满足，则波谷起点，波峰就是最高点，寻找波峰到后续满足回撤的点
#2.不满足，如果波峰后面一个波谷小于第一个波谷，则后面的波谷作为起点，重新寻找
#如果后面一个波谷大于第一个波谷，则忽略该波谷寻找下一个波峰和布谷，继续计算，直到满足条件
#寻找下降和回撤满足的点用相似的算法，只是将波峰和波谷的角色交换

